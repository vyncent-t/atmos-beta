{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nimport { canUseDOM as canUseDOMBool } from 'exenv';\nexport var canUseDOM = function () {\n  return canUseDOMBool;\n};\nexport var STATUS = {\n  ERROR: 'ERROR',\n  IDLE: 'IDLE',\n  INITIALIZING: 'INITIALIZING',\n  READY: 'READY',\n  RUNNING: 'RUNNING',\n  UNSUPPORTED: 'UNSUPPORTED'\n};\nexport var TYPE = {\n  DEVICE: 'device_update',\n  FAVORITE: 'favorite_update',\n  PLAYER: 'player_update',\n  PROGRESS: 'progress_update',\n  STATUS: 'status_update',\n  TRACK: 'track_update'\n};\nexport function getSpotifyURIType(uri) {\n  var _a = __read(uri.split(':'), 2),\n      _b = _a[1],\n      type = _b === void 0 ? '' : _b;\n\n  return type;\n}\nexport function isEqualArray(A, B) {\n  if (!Array.isArray(A) || !Array.isArray(B) || A.length !== B.length) {\n    return false;\n  }\n\n  var result = true;\n  A.forEach(function (a) {\n    return B.forEach(function (b) {\n      result = a === b;\n    });\n  });\n  return result;\n}\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\nexport function loadSpotifyPlayer() {\n  return new Promise(function (resolve, reject) {\n    var scriptTag = document.getElementById('spotify-player');\n\n    if (!scriptTag) {\n      var script = document.createElement('script');\n      script.id = 'spotify-player';\n      script.type = 'text/javascript';\n      script.async = false;\n      script.defer = true;\n      script.src = 'https://sdk.scdn.co/spotify-player.js';\n\n      script.onload = function () {\n        return resolve();\n      };\n\n      script.onerror = function (error) {\n        return reject(new Error(\"loadScript: \" + error.message));\n      };\n\n      document.head.appendChild(script);\n    } else {\n      resolve();\n    }\n  });\n}\nexport function parseVolume(value) {\n  if (!isNumber(value)) {\n    return 1;\n  }\n\n  if (value > 1) {\n    return value / 100;\n  }\n\n  return value;\n}\n/**\n * Round decimal numbers\n */\n\nexport function round(number, digits) {\n  if (digits === void 0) {\n    digits = 2;\n  }\n\n  var factor = Math.pow(10, digits);\n  return Math.round(number * factor) / factor;\n}\nexport function validateURI(input) {\n  var validTypes = ['album', 'artist', 'playlist', 'show', 'track'];\n  /* istanbul ignore else */\n\n  if (input && input.indexOf(':') > -1) {\n    var _a = __read(input.split(':'), 3),\n        key = _a[0],\n        type = _a[1],\n        id = _a[2];\n    /* istanbul ignore else */\n\n\n    if (key === 'spotify' && validTypes.indexOf(type) >= 0 && id.length === 22) {\n      return true;\n    }\n  }\n\n  return false;\n}","map":{"version":3,"mappings":"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","names":["canUseDOM","canUseDOMBool","STATUS","ERROR","IDLE","INITIALIZING","READY","RUNNING","UNSUPPORTED","TYPE","DEVICE","FAVORITE","PLAYER","PROGRESS","TRACK","getSpotifyURIType","uri","split","_b","type","isEqualArray","A","B","Array","isArray","length","result","forEach","a","b","isNumber","value","loadSpotifyPlayer","Promise","resolve","reject","scriptTag","document","getElementById","script","createElement","id","async","defer","src","onload","onerror","error","Error","message","head","appendChild","parseVolume","round","number","digits","factor","Math","validateURI","input","validTypes","indexOf","key"],"sourceRoot":"","sources":["../src/utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}