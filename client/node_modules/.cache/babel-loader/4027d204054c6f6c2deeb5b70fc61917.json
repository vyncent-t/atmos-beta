{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jento\\\\Desktop\\\\Projects\\\\main projects\\\\atmos-project\\\\client\\\\src\\\\components\\\\WelcomeBack.js\",\n    _s = $RefreshSig$();\n\nimport welcome from '../images/welcome.png';\nimport { useLocation } from \"react-router-dom\";\nimport { Link } from 'react-router-dom';\nimport styles from './MainMenuStyles.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require('axios'); // the authCode is coming from the intro page, on redirect we trim the parameter that is the access code from spotify, then we pass it into the useAuth function that connects to server\n\n\nfunction WelcomeBack() {\n  _s();\n\n  const location = useLocation();\n  console.log(location);\n  let authCode = location.search.slice(6);\n  console.log(\"new code\");\n  console.log(authCode);\n  var accesstoken = \"no token right now\";\n  console.log(authCode);\n  localStorage.setItem(\"spotifyCode\", `${authCode}`); // takes useAuth from utility, which runs the saveSpotify func from dispatch on store file, allows the user to be considered logged in, sets the exp, token, and other\n  // useAuth(authCode)\n\n  axios.post('/spotify-connect', {\n    code: `${authCode}`\n  }).then(res => {\n    // the following is printed on the browser console\n    console.log(\"new access token\");\n    console.log(res);\n    console.log(`reading res data ${res.data}`); // accesstoken = res.data.access_token\n\n    localStorage.setItem(\"spotifyToken\", `${res.data}`);\n  }).catch(error => {\n    console.log(error);\n  }); // var accesstoken = useSelector((state) => state.spotify.accesstoken)\n\n  console.log(`welcome back comp loaded is current access token ${accesstoken}`);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.main,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.drop,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"img-fluid\",\n        alt: \"\",\n        src: welcome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Welcome to atmos!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"While using the app we combine youtube and spotify to allow you to both listen and watch anything of your choosing! Click whichever genre you would like to enjoy and relax!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/menu\",\n        className: \"m-3 btn btn-success\",\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(WelcomeBack, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n\n_c = WelcomeBack;\nexport default WelcomeBack;\n\nvar _c;\n\n$RefreshReg$(_c, \"WelcomeBack\");","map":{"version":3,"sources":["C:/Users/jento/Desktop/Projects/main projects/atmos-project/client/src/components/WelcomeBack.js"],"names":["welcome","useLocation","Link","styles","axios","require","WelcomeBack","location","console","log","authCode","search","slice","accesstoken","localStorage","setItem","post","code","then","res","data","catch","error","main","drop"],"mappings":";;;AAAA,OAAOA,OAAP,MAAoB,uBAApB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;;;AAEA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB,C,CAGA;;;AACA,SAASC,WAAT,GAAuB;AAAA;;AAEnB,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACAO,EAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,MAAIG,QAAQ,GAAGH,QAAQ,CAACI,MAAT,CAAgBC,KAAhB,CAAsB,CAAtB,CAAf;AACAJ,EAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;AACA,MAAIG,WAAW,GAAG,oBAAlB;AAIAL,EAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ;AAGAI,EAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAqC,GAAEL,QAAS,EAAhD,EAdmB,CAgBnB;AAEA;;AAEAN,EAAAA,KAAK,CAACY,IAAN,CAAW,kBAAX,EAA+B;AAC3BC,IAAAA,IAAI,EAAG,GAAEP,QAAS;AADS,GAA/B,EAEGQ,IAFH,CAGKC,GAAD,IAAS;AACL;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAa,oBAAmBU,GAAG,CAACC,IAAK,EAAzC,EAJK,CAKL;;AACAN,IAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAsC,GAAEI,GAAG,CAACC,IAAK,EAAjD;AACH,GAVL,EAWEC,KAXF,CAYKC,KAAD,IAAW;AACPd,IAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ;AACH,GAdL,EApBmB,CAqCnB;;AACAd,EAAAA,OAAO,CAACC,GAAR,CAAa,oDAAmDI,WAAY,EAA5E;AAGA,sBACI;AAAK,IAAA,SAAS,EAAEV,MAAM,CAACoB,IAAvB;AAAA,4BACI;AAAK,MAAA,SAAS,EAAEpB,MAAM,CAACqB,IAAvB;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,GAAG,EAAC,EAA/B;AAAkC,QAAA,GAAG,EAAExB;AAAvC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAII;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,eAQI;AAAA,6BACI,QAAC,IAAD;AAAM,QAAA,EAAE,EAAC,OAAT;AAAiB,QAAA,SAAS,EAAC,qBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YARJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH;;GAvDQM,W;UAEYL,W;;;KAFZK,W;AAyDT,eAAeA,WAAf","sourcesContent":["import welcome from '../images/welcome.png';\r\nimport { useLocation } from \"react-router-dom\"\r\nimport { Link } from 'react-router-dom';\r\nimport styles from './MainMenuStyles.module.css'\r\n\r\nconst axios = require('axios')\r\n\r\n\r\n// the authCode is coming from the intro page, on redirect we trim the parameter that is the access code from spotify, then we pass it into the useAuth function that connects to server\r\nfunction WelcomeBack() {\r\n\r\n    const location = useLocation()\r\n    console.log(location)\r\n    let authCode = location.search.slice(6)\r\n    console.log(\"new code\")\r\n    console.log(authCode)\r\n    var accesstoken = \"no token right now\"\r\n\r\n\r\n\r\n    console.log(authCode)\r\n\r\n\r\n    localStorage.setItem(\"spotifyCode\", `${authCode}`)\r\n\r\n    // takes useAuth from utility, which runs the saveSpotify func from dispatch on store file, allows the user to be considered logged in, sets the exp, token, and other\r\n\r\n    // useAuth(authCode)\r\n\r\n    axios.post('/spotify-connect', {\r\n        code: `${authCode}`\r\n    }).then(\r\n        (res) => {\r\n            // the following is printed on the browser console\r\n            console.log(\"new access token\")\r\n            console.log(res)\r\n            console.log(`reading res data ${res.data}`)\r\n            // accesstoken = res.data.access_token\r\n            localStorage.setItem(\"spotifyToken\", `${res.data}`)\r\n        }\r\n    ).catch(\r\n        (error) => {\r\n            console.log(error)\r\n        }\r\n    )\r\n\r\n    // var accesstoken = useSelector((state) => state.spotify.accesstoken)\r\n    console.log(`welcome back comp loaded is current access token ${accesstoken}`)\r\n\r\n\r\n    return (\r\n        <div className={styles.main}>\r\n            <div className={styles.drop}>\r\n                <img className=\"img-fluid\" alt=\"\" src={welcome}></img>\r\n            </div>\r\n            <div>\r\n                <h5>Welcome to atmos!</h5>\r\n                <p>While using the app we combine youtube and spotify to allow you to both listen and watch anything of your choosing! Click whichever genre you would like to enjoy and relax!</p>\r\n            </div>\r\n            <div>\r\n                <Link to=\"/menu\" className=\"m-3 btn btn-success\">Continue</Link>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default WelcomeBack"]},"metadata":{},"sourceType":"module"}